{"ast":null,"code":"import _toConsumableArray from \"D:\\\\Programes\\\\Angular\\\\helpDesk\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\toConsumableArray.js\";\nimport _classCallCheck from \"D:\\\\Programes\\\\Angular\\\\helpDesk\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"D:\\\\Programes\\\\Angular\\\\helpDesk\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Ticket } from \"../../model/ticket\";\nimport { TicketService } from \"../../service/ticket.service\";\nimport { TacheService } from \"../../service/tache.service\";\n\nvar TicketsComponent = /*#__PURE__*/function () {\n  function TicketsComponent(TicketService, TacheService) {\n    _classCallCheck(this, TicketsComponent);\n\n    this.TicketService = TicketService;\n    this.TacheService = TacheService;\n    this.ticket = new Ticket();\n    this.tickets = [];\n    this.taches = [];\n  }\n\n  _createClass(TicketsComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.getTickets();\n      this.getProjets();\n    }\n  }, {\n    key: \"getProjets\",\n    value: function getProjets() {\n      var _this = this;\n\n      this.TacheService.findAll().subscribe(function (tch) {\n        _this.taches = tch;\n      });\n    }\n  }, {\n    key: \"getTickets\",\n    value: function getTickets() {\n      var _this2 = this;\n\n      this.TicketService.findAll().subscribe(function (tasks) {\n        _this2.tickets = tasks;\n      });\n    }\n  }, {\n    key: \"deleteTicket\",\n    value: function deleteTicket(id) {\n      var _this3 = this;\n\n      this.TicketService.delete(id).subscribe(function () {\n        _this3.tickets = _this3.tickets.filter(function (ticket) {\n          return ticket.id != id;\n        });\n      });\n    }\n  }, {\n    key: \"addTicket\",\n    value: function addTicket() {\n      var _this4 = this;\n\n      this.TicketService.create(this.ticket).subscribe(function (tsk) {\n        _this4.tickets = [tsk].concat(_toConsumableArray(_this4.tickets));\n        _this4.ticket = new Ticket();\n      });\n    }\n  }, {\n    key: \"updateCompleted\",\n    value: function updateCompleted(ticket) {\n      this.TicketService.completed(ticket.id, ticket.completed).subscribe(function () {\n        ticket.completed = !ticket.completed;\n      });\n    }\n  }, {\n    key: \"editTache\",\n    value: function editTache(ticket) {\n      this.ticket = ticket;\n      console.log(ticket);\n    }\n  }, {\n    key: \"updateTicket\",\n    value: function updateTicket() {\n      var _this5 = this;\n\n      this.TicketService.update(this.ticket).subscribe(function () {\n        return _this5.ticket = new Ticket();\n      });\n    }\n  }]);\n\n  return TicketsComponent;\n}();\n\nTicketsComponent = __decorate([Component({\n  selector: 'app-tickets',\n  templateUrl: './tickets.component.html'\n}), __metadata(\"design:paramtypes\", [TicketService, TacheService])], TicketsComponent);\nexport { TicketsComponent };","map":null,"metadata":{},"sourceType":"module"}