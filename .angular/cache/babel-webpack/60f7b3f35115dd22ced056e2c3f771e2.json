{"ast":null,"code":"import _toConsumableArray from \"D:\\\\Projets\\\\Angular\\\\helpDesk\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\toConsumableArray.js\";\nimport _classCallCheck from \"D:\\\\Projets\\\\Angular\\\\helpDesk\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"D:\\\\Projets\\\\Angular\\\\helpDesk\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Tache } from 'src/app/model/tache';\nimport { ProjetService } from 'src/app/service/projet.service';\nimport { TacheService } from 'src/app/service/tache.service';\n\nvar TachesComponent = /*#__PURE__*/function () {\n  function TachesComponent(TacheService, projectService) {\n    _classCallCheck(this, TachesComponent);\n\n    this.TacheService = TacheService;\n    this.projectService = projectService;\n    this.tache = new Tache();\n    this.taches = [];\n    this.projets = [];\n  }\n\n  _createClass(TachesComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.getTaches();\n      this.getProjets();\n    }\n  }, {\n    key: \"getProjets\",\n    value: function getProjets() {\n      var _this = this;\n\n      this.projectService.findAll().subscribe(function (prj) {\n        _this.projets = prj;\n      });\n    }\n  }, {\n    key: \"getTaches\",\n    value: function getTaches() {\n      var _this2 = this;\n\n      this.TacheService.findAll().subscribe(function (tasks) {\n        _this2.taches = tasks;\n      });\n    }\n  }, {\n    key: \"deleteTache\",\n    value: function deleteTache(id) {\n      var _this3 = this;\n\n      this.TacheService.delete(id).subscribe(function () {\n        _this3.taches = _this3.taches.filter(function (tache) {\n          return tache.id != id;\n        });\n      });\n    }\n  }, {\n    key: \"addTache\",\n    value: function addTache() {\n      var _this4 = this;\n\n      this.TacheService.create(this.tache).subscribe(function (tsk) {\n        _this4.taches = [tsk].concat(_toConsumableArray(_this4.taches));\n        _this4.tache = new Tache();\n      });\n    }\n  }, {\n    key: \"updateCompleted\",\n    value: function updateCompleted(task) {\n      this.TacheService.completed(task.id, task.completed).subscribe(function () {\n        task.completed = !task.completed;\n      });\n    }\n  }, {\n    key: \"editTache\",\n    value: function editTache(task) {\n      this.tache = task;\n      console.log(task);\n    }\n  }, {\n    key: \"updateTache\",\n    value: function updateTache() {\n      var _this5 = this;\n\n      this.TacheService.update(this.tache).subscribe(function () {\n        return _this5.tache = new Tache();\n      });\n    }\n  }]);\n\n  return TachesComponent;\n}();\n\nTachesComponent = __decorate([Component({\n  selector: 'app-taches',\n  templateUrl: './taches.component.html'\n}), __metadata(\"design:paramtypes\", [TacheService, ProjetService])], TachesComponent);\nexport { TachesComponent };","map":null,"metadata":{},"sourceType":"module"}